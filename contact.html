<!doctype html>
<html lang="en">

<head>
      <meta charset="utf-8" />
      <meta name="viewport" content="width=device-width,initial-scale=1" />
      <title>Contact Us</title>
      <style>
            :root {
                  --bg: #f6f8fb;
                  --card: #ffffff;
                  --accent: #2563eb;
                  --muted: #6b7280
            }

            * {
                  box-sizing: border-box
            }

            body {
                  font-family: Inter, ui-sans-serif, system-ui, Segoe UI, Roboto, Helvetica, Arial;
                  line-height: 1.5;
                  background: var(--bg);
                  padding: 24px
            }

            .container {
                  max-width: 820px;
                  margin: 24px auto;
                  padding: 20px
            }

            .card {
                  background: var(--card);
                  border-radius: 12px;
                  box-shadow: 0 6px 18px rgba(2, 6, 23, .08);
                  padding: 28px
            }

            h1 {
                  margin: 0 0 8px;
                  font-size: 1.6rem
            }

            p.lead {
                  color: var(--muted);
                  margin: 0 0 18px
            }

            form {
                  display: grid;
                  grid-template-columns: 1fr 1fr;
                  gap: 14px
            }

            label {
                  display: block;
                  font-weight: 600;
                  margin-bottom: 6px;
                  font-size: 0.88rem
            }

            input[type="text"],
            input[type="email"],
            input[type="tel"],
            textarea,
            select {
                  width: 100%;
                  padding: 10px 12px;
                  border: 1px solid #e5e7eb;
                  border-radius: 8px;
                  font-size: 0.95rem
            }

            textarea {
                  min-height: 140px;
                  resize: vertical
            }

            .full {
                  grid-column: 1 / -1
            }

            .actions {
                  display: flex;
                  gap: 10px;
                  align-items: center
            }

            button {
                  background: var(--accent);
                  color: #fff;
                  border: 0;
                  padding: 10px 14px;
                  border-radius: 8px;
                  font-weight: 600;
                  cursor: pointer
            }

            button[disabled] {
                  opacity: .6;
                  cursor: not-allowed
            }

            .secondary {
                  background: transparent;
                  color: var(--accent);
                  border: 1px solid #cfe1ff
            }

            .hint {
                  font-size: 0.85rem;
                  color: var(--muted)
            }

            .error {
                  color: #b91c1c;
                  font-size: 0.88rem;
                  margin-top: 6px
            }

            .success {
                  color: #065f46;
                  background: #ecfdf5;
                  padding: 10px;
                  border-radius: 8px;
                  border: 1px solid #a7f3d0
            }

            @media (max-width:720px) {
                  form {
                        grid-template-columns: 1fr
                  }

                  .container {
                        padding: 12px
                  }
            }
      </style>
</head>

<body>
      <div class="container">
            <div class="card">
                  <h1>Contact </h1>
                  <p class="lead">Have a question or want to work together? Fill the form and we'll get back within 1â€“2
                        business days.</p>

                  <div id="notice" aria-live="polite"></div>

                  <form id="contactForm" novalidate>
                        <div>
                              <label for="name">Full name *</label>
                              <input id="name" name="name" type="text" placeholder="Your name" required minlength="2" />
                              <div class="error" data-error-for="name" hidden></div>
                        </div>

                        <div>
                              <label for="email">Email address *</label>
                              <input id="email" name="email" type="email" placeholder="you@example.com" required />
                              <div class="error" data-error-for="email" hidden></div>
                        </div>

                        <div>
                              <label for="phone">Phone (optional)</label>
                              <input id="phone" name="phone" type="tel" placeholder="+91 98765 43210" />
                              <div class="error" data-error-for="phone" hidden></div>
                        </div>

                        <div>
                              <label for="subject">Subject *</label>
                              <input id="subject" name="subject" type="text" placeholder="Short subject" required />
                              <div class="error" data-error-for="subject" hidden></div>
                        </div>

                        <div class="full">
                              <label for="message">Message *</label>
                              <textarea id="message" name="message" placeholder="Tell us what you need..." required
                                    minlength="10"></textarea>
                              <div class="error" data-error-for="message" hidden></div>
                        </div>

                        <div class="full actions">
                              <button type="submit" id="submitBtn">Send message</button>
                              <button type="button" id="resetBtn" class="secondary">Reset</button>
                              <div class="hint">We respect your privacy. No spam.</div>
                        </div>
                  </form>

            </div>
      </div>

      <script>
            // Lightweight client-side validation + submit via fetch
            const form = document.getElementById('contactForm');
            const submitBtn = document.getElementById('submitBtn');
            const resetBtn = document.getElementById('resetBtn');
            const notice = document.getElementById('notice');

            function showError(name, message) {
                  const el = document.querySelector(`[data-error-for="${name}"]`);
                  if (!el) return;
                  el.hidden = false; el.textContent = message;
            }
            function clearErrors() {
                  document.querySelectorAll('[data-error-for]').forEach(e => { e.hidden = true; e.textContent = ''; })
            }

            function validate() {
                  clearErrors();
                  let ok = true;
                  const name = form.name.value.trim();
                  const email = form.email.value.trim();
                  const subject = form.subject.value.trim();
                  const message = form.message.value.trim();
                  const phone = form.phone.value.trim();

                  if (name.length < 2) { showError('name', 'Please enter your full name.'); ok = false; }
                  if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) { showError('email', 'Please enter a valid email.'); ok = false; }
                  if (subject.length === 0) { showError('subject', 'Subject is required.'); ok = false; }
                  if (message.length < 10) { showError('message', 'Message must be at least 10 characters.'); ok = false; }
                  if (phone && !/^\+?[0-9\-\s]{7,20}$/.test(phone)) { showError('phone', 'Please enter a valid phone number or leave empty.'); ok = false; }
                  return ok;
            }

            async function fakeSend(payload) {
                  // Placeholder: simulate network request
                  return new Promise((res, rej) => {
                        setTimeout(() => {
                              // simulate success 90% of time
                              Math.random() < 0.90 ? res({ ok: true }) : rej(new Error('Network error'));
                        }, 900);
                  });
            }

            form.addEventListener('submit', async (e) => {
                  e.preventDefault();
                  notice.innerHTML = '';
                  if (!validate()) return;

                  submitBtn.disabled = true; submitBtn.textContent = 'Sending...';

                  const payload = {
                        name: form.name.value.trim(),
                        email: form.email.value.trim(),
                        phone: form.phone.value.trim(),
                        subject: form.subject.value.trim(),
                        message: form.message.value.trim(),
                        timestamp: new Date().toISOString()
                  };

                  try {
                        // Replace fakeSend with actual fetch to your backend, for example:
                        // const res = await fetch('/api/contact', {method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});
                        // if(!res.ok) throw new Error('Server returned '+res.status);

                        const res = await fakeSend(payload);
                        notice.innerHTML = '<div class="success">Thanks! Your message was sent successfully.</div>';
                        form.reset();
                  } catch (err) {
                        notice.innerHTML = '<div class="error">Failed to send message. Please try again later.</div>';
                        console.error(err);
                  } finally {
                        submitBtn.disabled = false; submitBtn.textContent = 'Send message';
                  }
            });

            resetBtn.addEventListener('click', () => { form.reset(); clearErrors(); notice.innerHTML = ''; });

            // Accessibility: show server-side message if URL has ?success=1
            (function checkQuery() {
                  const params = new URLSearchParams(location.search);
                  if (params.get('success') === '1') {
                        notice.innerHTML = '<div class="success">Thanks! Your message was received.</div>';
                  }
            })();
      </script>
</body>

</html>